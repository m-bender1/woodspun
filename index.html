<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="description" content="Buy handmade pens, winestoppers and more at WoodSpun.ca.">
	<meta name="author" content="Matthew Bender">
	<meta name="keywords" content="Handmade, wood, pens, wine stopper, e-commerce, woodpsun, woodspun.ca">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="#" /> <!-- this removes the favicon 404 error -->
	<link rel="stylesheet" href="styles/main.css" /> <!-- main styling -->

	<title>WoodSpun.ca</title>
</head>

<body>
	<div class="productsArea"></div>
	<script>
		var xmlhttp = new XMLHttpRequest();
		var url = "productData.txt";
		var prodArr = [];

		function loadProducts() {
			xmlhttp.onreadystatechange = function () {
				if (this.readyState == 4 && this.status == 200) {
					// sets array to data in json file
					prodArr = JSON.parse(this.responseText);
					displayProducts(prodArr);
				}
			};
			xmlhttp.open("GET", url, true);
			xmlhttp.send();
		}

		function displayProducts(a) {
			for (let i = 0; i < a.products.length; i++) {
				// create the elements to append
				let prodDiv = document.createElement("div");
				let prodImg1 = document.createElement("img"), prodImg2 = document.createElement("img");
				let prodPrice = document.createElement("p"), prodName = document.createElement("p"), description = document.createElement("p");

				prodName.innerHTML = a.products[i].productName
				prodImg1.src = a.products[i].productImage1
				prodImg2.src = a.products[i].productImage2
				prodPrice.innerHTML = "$" + a.products[i].productPrice
				description.innerHTML = a.products[i].productDescription

				prodName.classList.add("prodName")
				prodDescription.classList.add("prodDescription")
				prodPrice.classList.add("prodPrice")
				if(prodImg2.src = "") {
					prodImg1.classList.add("singleImg")
				}
				else {
					prodImg1.classList.add("img1")
					prodImg2.classList.add("img2")
				}
			}
		}
	</script>
</body>

</html>